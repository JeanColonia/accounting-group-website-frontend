<div class="add-user-container">
  <div class="header">
    <div class="title">
      <h3>Crear Curso</h3>
    </div>
  </div>

  <div class="form-container">
    <form class="form-datos" (ngSubmit)="crearCurso()">
      <mat-form-field appearance="outline">
        <mat-label>Titulo del curso</mat-label>
        <input
          matInput
          name="titulo"
          [(ngModel)]="curso.titulo"
          placeholder="Curso Especializado Cálculo y Liquidación"
        />
      </mat-form-field>
      <mat-form-field appearance="outline" style="width: 180px;">
        <mat-label>Fecha</mat-label>
        <input
          matInput
          name="fecha"
          [(ngModel)]="curso.fecha"
          placeholder="26 de Marzo del 2023"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" style="width: 180px;">
        <mat-label>Hora de Inicio:</mat-label>
        <input
          matInput
          name="horaInicio"
          [(ngModel)]="curso.horaInicio"
          placeholder="7:00 PM"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" style="width: 180px;">
        <mat-label>Hora de Fin:</mat-label>
        <input  
          matInput
          name="horaFin"
          [(ngModel)]="curso.horaFin"
          placeholder="9:30 PM"
        />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Link de Curso en GC Business:</mat-label>
        <input
          matInput
          name="linkCarrito"
          [(ngModel)]="curso.linkCarrito"
          placeholder="https://www.gcbs.edu.pe/blog/contable-1/curso-taller-elaboracion-de-estados-financieros-bajo-niif-9"
        />
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 200px;">
        <mat-label>Modalidad</mat-label>
        <mat-select
          name="idModalidad"
          [(ngModel)]="curso.modalidad.idModalidad"
        >
          <mat-option
            *ngFor="let modalidad of listaModalidad"
            [value]="modalidad.idModalidad"
            >{{ modalidad.nombre }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 200px;">
        <mat-label>Categoria</mat-label>
        <mat-select
          name="idCategoriaCurso"
          [(ngModel)]="curso.categoriacurso.idCategoriaCurso"
        >
          <mat-option
            *ngFor="let categoria of listaCategoria"
            [value]="categoria.idCategoriaCurso"
            >{{ categoria.tituloCategoriaCurso }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" style="width: 300px;">
        <mat-label>Docente</mat-label>
        <mat-select name="id" [(ngModel)]="curso.docente.id">
          <mat-option
            *ngFor="let docente of listaDocentes"
            [value]="docente.id"
            >{{ docente.nombres }} {{ docente.apellidos }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <angular-editor style="margin-top:20px; " [placeholder]="'Ingrese la descripción del curso...'" name="descripcion" [(ngModel)]="curso.descripcion"></angular-editor>
      
      <mat-card-actions style="width: 100%; margin-top: 35px; margin-bottom:100px;">
        <button type="submit" mat-raised-button color="primary">
          Crear Curso
        </button>

        <a
          routerLink="/dashboard/ver-cursos"
          mat-raised-button
          style="margin-left: 30px"
          >Cancelar</a
        >
      </mat-card-actions>
    </form>

    <form
      (ngSubmit)="onUpload()"
      novalidate
      class="form-imagen"
      enctype="multipart/form-data"
    >
      Agregar Imagen:

      <input
        #imagenInputFile
        id="imagen"
        type="file"
        accept="image/png, image/jpeg,image/jpg, image/tiff"
        (change)="onFileChange($event)"
      />

      <div *ngIf="curso.imagen" style="margin-top: 20px; width: 100%">
        <h5>Vista Previa:</h5>
        <img
          class="image-thumbnail"
          style="max-width: 100px"
          [src]="curso.imagen"
          alt=""
        />
      </div>

      <mat-card-actions style="margin-top: 50px; width: 100%">
        <button
          style="margin-right: 25px"
          type="submit"
          mat-raised-button
          color="primary"
          [disabled]="!imagen"
        >
          <i class="fa-solid fa-cloud-arrow-up"></i>
        </button>
        <button
          type="submit"
          mat-raised-button
          color="info"
          [disabled]="!imagen"
          (click)="reset()"
        >
          <i class="fa-solid fa-repeat"></i>
        </button>
      </mat-card-actions>
    </form>
  </div>
 
</div>
